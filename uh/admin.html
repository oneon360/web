<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Admin - Input Soal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    textarea {font-family: monospace;}
    pre {background:#f8f9fa; padding:10px; border-radius:6px;}
  </style>
</head>
<body class="bg-light">
<div class="container py-5">
  <div class="card p-4 shadow">
    <h4>üîë Halaman Admin - Input Soal</h4>
    <div id="loginBox">
      <input type="password" id="adminPass" class="form-control mb-2" placeholder="Masukkan Password">
      <button class="btn btn-primary" onclick="loginAdmin()">Login</button>
    </div>
    <div id="adminPanel" class="d-none">
      <p>Edit soal dalam format JSON (mendukung <code>text</code>, <code>image</code>, <code>table</code>, <code>paragraph</code>):</p>
      <textarea id="jsonInput" class="form-control" rows="18"></textarea>
      <button class="btn btn-success mt-3" onclick="saveJSON()">üíæ Simpan Soal</button>
      <hr>
      <h6>Contoh Format Soal:</h6>
<pre>{
  "Pendidikan Pancasila": [
    {
      "type": "text",
      "text": "Siapakah pencetus Pancasila?",
      "options": ["Soekarno", "Hatta", "Sudirman", "Yamin"],
      "answer": "a"
    },
    {
      "type": "image",
      "text": "Perhatikan gambar berikut, siapakah tokoh yang ada di gambar?",
      "image": "soekarno.jpg",
      "options": ["Soekarno", "Hatta", "Sudirman", "Tan Malaka"],
      "answer": "a"
    },
    {
      "type": "table",
      "text": "Berdasarkan tabel berikut, manakah hasil perhitungan yang benar?",
      "table": "&lt;table class='table table-bordered'&gt;&lt;tr&gt;&lt;th&gt;Bilangan&lt;/th&gt;&lt;th&gt;Hasil&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;5+3&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;7x2&lt;/td&gt;&lt;td&gt;14&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;",
      "options": ["Semua benar", "Ada yang salah", "Hanya nomor 1 benar", "Hanya nomor 2 benar"],
      "answer": "a"
    },
    {
      "type": "paragraph",
      "text": "Bacalah paragraf berikut: &lt;br&gt;&lt;br&gt; 'Pancasila merupakan dasar negara ...' &lt;br&gt;&lt;br&gt; Berdasarkan paragraf, sila manakah yang mencerminkan keadilan sosial?",
      "options": ["Sila ke-2", "Sila ke-3", "Sila ke-4", "Sila ke-5"],
      "answer": "d"
    }
  ]
}</pre>
    </div>
  </div>
</div>

<script>
const ADMIN_PASSWORD="@@@nCZZa2";
let soal = JSON.parse(localStorage.getItem("soalData")) || {
  "Pendidikan Pancasila": [],
  "Bahasa Indonesia": [],
  "Matematika": [],
  "IPAS": [],
  "Seni Rupa": []
};

function loginAdmin(){
  if(document.getElementById("adminPass").value===ADMIN_PASSWORD){
    document.getElementById("loginBox").classList.add("d-none");
    document.getElementById("adminPanel").classList.remove("d-none");
    document.getElementById("jsonInput").value=JSON.stringify(soal,null,2);
  }else{
    alert("Password salah!");
  }
}

function saveJSON(){
  try{
    soal = JSON.parse(document.getElementById("jsonInput").value);
    localStorage.setItem("soalData",JSON.stringify(soal));
    alert("‚úÖ Soal berhasil disimpan!");
  }catch(e){
    alert("‚ùå Format JSON tidak valid!\n" + e.message);
  }
}
</script>
</body>
</html>
